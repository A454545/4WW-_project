<!DOCTYPE html>
<html lang="en-US">

<head>
	<!--Meta tag info-->
	<meta charset="UTF-8">
	<meta name="description" content="Reviewing estate listings">
	<meta name="keywords" content="4WW3">
	<meta name="author" content="Lin Rozenszajn">
	<!--To make the view fit to screen of the device-->
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Main Page</title>
	<!--styling to the main page-->
	<link href="assets/css/header_footer.css" rel="stylesheet" />
	<link href="assets/css/result.css" rel="stylesheet" />
	<!--load icon library for search bar-->
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
	<link rel="stylesheet" type="text/css"
		href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css">
	<!--add Leaflet CSS and Javascript-->
	<link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css"
		integrity="sha512-xodZBNTC5n17Xt2atTPuE1HxjVMSvLVW9ocqUKLsCC5CXdbqCmblAshOMAS6/keqq/sMZMZ19scR4PsZChSR7A=="
		crossorigin="" />
	<script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"
		integrity="sha512-XQoYMqMTK8LvdxXYG3nZ448hOEQiglfqkJs1NOQV44cWnUrBc8PkAOcXy20w0vlaXaVUearIOBhiXZ5V3ynxwA=="
		crossorigin=""></script>
	<!-- Animation resource -->
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
	<!-- javascript file -->
	<script type="text/javascript" src="assets/js/result.js"><script/>
</head>

<body>
	<!--Navigation bar-->
	<!--same comments on the indext/html-->
	<header>
		<h1 class="logo">True Roofs</h1>
		<input type="checkbox" id="nav-toggle" class="nav-toggle">
		<nav>
			<ul>
				<li><a href="index.html">Home</a></li>
				<li><a href="submit.html">Review</a></li>
				<li><a href="submitListing.html">New Listing</a></li>
				<li><a href="profile.html">Profile</a></li>
				<li><a href="userRegistration.html">Login | Sign In </a></li>
			</ul>
		</nav>
		<label for="nav-toggle" class="nav-toggle-label">
			<span></span>
		</label>
	</header>

	<!--Dropdown buttons bar, each button is a search filter (to be added later with JavaScript-->>
	<div class="filter-bar"></div>

	<!--page containing the results of a search-->
	<!--contains a dynamic map showing location of each result, as well as a card displaying-->
	<!--the address, mls listing number and synopsis of each result, along with a button to access its individual result page-->
	<!-- animation is added using the css animate library -->
	<div class="content-container">
		<!--Dynamic map-->
		<div class="content-child animate__animated animate__zoomInLeft" id="map">
		</div>
		<!--Results display-->
		<div class="content-child animate__animated animate__zoomInRight" id="results">
			<!--Individual results card-->
			<div class="content-grandchild">
				<div class="result-top-image-container">
				</div>
				<!--Div that contains each listing's rank-->
				<div class="result-ranking">
					Ranked # <span id="ranking-1">1256</span>
				</div>
				<!-- -->
				<div class="result-stars">
					    <i class="fas fa-star"></i>
						<i class="fas fa-star"></i>
						<i class="fas fa-star"></i>
					<span class="text">(0 reviews)</span>
				</div>
				<div class="result-description">
					<div class="address" id="1"></div>
					<div class="listing-desc">Cozy three-bedroom , 1 bathroom apartment in the Main Street West
						neighborhood.</div>
					<p class="beds-baths" style="margin:0; padding: 1vh 0.5vw 0 0.5vw"><i class="fa fa-bed"></i> 3 Bed
						<i class="fa fa-bath"></i> 1 Bath
					</p>
				</div>
				<div class="check-button">
					<input type="submit" value="View listing" onclick="location.href = 'individualResult.html';">
				</div>
			</div>
			<!--Individual results card-->
			<div class="content-grandchild">
				<div class="result-top-image-container">
				</div>
				<div class="result-ranking">
					Ranked # <span id="ranking-2">1256</span>
				</div>
				<div class="result-stars">
					<span class="stars-two"><i class="fas fa-star"></i><i class="fas fa-star"></i><i
							class="fas fa-star"></i></span>
					<span class="text">(0 reviews)</span>
				</div>
				<div class="result-description">
					<div class="address" id="2"></div>
					<div class="listing-desc">Cozy three-bedroom , 1 bathroom apartment in the Main Street West
						neighborhood.</div>
					<p class="beds-baths" style="margin:0; padding: 1vh 0.5vw 0 0.5vw"><i class="fa fa-bed"></i> 3 Bed
						<i class="fa fa-bath"></i> 1 Bath
					</p>
				</div>
				<div class="check-button">
					<input type="submit" value="View listing" onclick="location.href = 'individualResult.html';">
				</div>
			</div>
			<!--Individual results card-->
			<div class="content-grandchild">
				<div class="result-top-image-container">
				</div>
				<div class="result-ranking">
					Ranked # <span id="ranking-3">1256</span>
				</div>
				<div class="result-stars">
					<span class="stars-three"><i class="fas fa-star"></i><i class="fas fa-star"></i><i
							class="fas fa-star"></i></span>
					<span class="text">(0 reviews)</span>
				</div>
				<div class="result-description">
					<div class="address" id="3"></div>
					<div class="listing-desc">Cozy three-bedroom , 1 bathroom apartment in the Main Street West
						neighborhood.</div>
					<p class="beds-baths" style="margin:0; padding: 1vh 0.5vw 0 0.5vw"><i class="fa fa-bed"></i> 3 Bed
						<i class="fa fa-bath"></i> 1 Bath
					</p>
				</div>
				<div class="check-button">
					<input type="submit" value="View listing" onclick="location.href = 'individualResult.html';">
				</div>
			</div>
			<!--Individual results card-->
			<div class="content-grandchild">
				<div class="result-top-image-container">
				</div>
				<div class="result-ranking">
					Ranked # <span id="ranking-4">1256</span>
				</div>
				<div class="result-stars">
					<span class="stars-four"><i class="fas fa-star"></i><i class="fas fa-star"></i><i
							class="fas fa-star"></i></span>
					<span class="text">(0 reviews)</span>
				</div>
				<div class="result-description">
					<div class="address" id="4"></div>
					<div class="listing-desc">Cozy three-bedroom , 1 bathroom apartment in the Main Street West
						neighborhood.</div>
					<p class="beds-baths" style="margin:0; padding: 1vh 0.5vw 0 0.5vw"><i class="fa fa-bed"></i> 3 Bed
						<i class="fa fa-bath"></i> 1 Bath
					</p>
				</div>
				<div class="check-button">
					<input type="submit" value="View listing" onclick="location.href = 'individualResult.html';">
				</div>
			</div>
			<div class="next-button">
				<input type="submit" value="Next" onclick="location.href = 'individualResult.html';">
			</div>
		</div>
	</div>
	<!--Footer-->
	<footer>
		<div class="footer-container">
			<div class="row">
				<div class="footer-col">
					<h4>True Roofs</h4>
					<ul>
						<li><a href="#">We are here to provide</a></li>
						<li><a href="#">honest reviews and give you the </a></li>
						<li><a href="#">opportunity to share yours.</a></li>
					</ul>
				</div>
				<div class="footer-col">
					<h4>Get Help</h4>
					<ul>
						<li title="Comming Soon"><a href="#">FAQ</a></li>
						<li title="Comming Soon"><a href="#">Privacy Policy</a></li>
					</ul>
				</div>
				<div class="footer-col">
					<h4>Links</h4>
					<ul>
						<li><a href="index.html">Home</a></li>
						<li><a href="submit.html">Review</a></li>
						<li><a href="submitListing.html">New Listing</a></li>
						<li><a href="profile.html">Profile</a></li>
						<li><a href="userRegistration.html">Login | Sign In</a></li>
					</ul>
				</div>
				<div class="footer-col">
					<h4>Contact us</h4>
					<div class="social-links">
						<a title="github icon" href="https://github.com/A454545/4WW3_project"><i
								class="fab fa-github"></i></a>
						<a title="Comming Soon facebook link" href="#"><i class="fab fa-facebook-f"></i></a>
						<a title="Comming Soon twitter link" href="#"><i class="fab fa-twitter"></i></a>
						<a title="Comming Soon instagram link" href="#"><i class="fab fa-instagram"></i></a>
					</div>
					<div class="copyright">
						<p title="True Roofs" style="color: #ffffff; font-size:12px;"><i class="far fa-copyright"></i>
							Updated November 2021</p>
					</div>
				</div>
			</div>
		</div>
	</footer>
	<script>
		//Interactive map generation
		let myMap = L.map('map').setView([43.653225, -79.383186], 13)
		L.tileLayer('https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token={accessToken}', {
			attribution: 'Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, Imagery Â© <a href="https://www.mapbox.com/">Mapbox</a>',
			maxZoom: 18,
			id: 'mapbox/streets-v11',
			tileSize: 512,
			zoomOffset: -1,
			accessToken: 'pk.eyJ1IjoibWlrbG92ZXI4OSIsImEiOiJja3ZjeHh1ejkwcm9jMm9ueWpibzFjaTRtIn0.H8R3XwTyGWRGskV7WVnnYg'
		}).addTo(myMap);
	
		//Random rank, street address and marker generation
		for (let i = 1; i < 5; i++){
			let selector = ".result-ranking #ranking-" + i;
			let rank = document.querySelector(selector);
			rank.innerHTML = i + Math.floor(Math.random() * 11);

			selector = ".result-description .address #" + i;
			let address = document.getElementsByClassName('result-description')[i-1];
			address = address.querySelector('.address');
			address.innerHTML = i + Math.floor(Math.random() * 100);
			address.innerHTML += " Street, Toronto";

			let stars = document.getElementsByClassName('result-stars')[i-1];
            /* 	for (let j = 1; j < 5; j++) {
				var icn = document.createElement("span");
				icn.innerHTML = '<i class="fa fa-star"></i>';
				stars.appendChild(icn);
			} */

			let incr = i * 0.02 * Math.random();
			let marker = L.marker([43.650400+incr, -79.379310-incr]).addTo(myMap);
			var popup = L.popup();
			marker.bindPopup(address.innerHTML + '<br></br>' + '<a href="individualResult.html"> Go</a>').openPopup();
		}

		const api_url = 'https://api.wheretheiss.at/v1/satellites/25544';
		async function getISS() {
			const response = await fetch(api_url);
			const data = await response.json();
			const { latitude, longitude } = data;
		}
		getISS();
	</script>
</body>
</html>
